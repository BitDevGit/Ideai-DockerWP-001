# Docker Compose Override for Multi-Site Local Development
# This file mounts wp-content as a volume for instant changes without rebuilds

services:
  wordpress1:
    volumes:
      # Mount wp-content for live development (plugins, themes)
      - ./wp-content:/var/www/html/wp-content
      # Exclude uploads from mount - use separate volume to avoid conflicts
      - wp1_uploads:/var/www/html/wp-content/uploads
    environment:
      - WP_CONTENT_DIR=/var/www/html/wp-content
      - WP_DEBUG=${WP_DEBUG:-1}

  wordpress2:
    volumes:
      # Mount wp-content for live development (plugins, themes)
      - ./wp-content:/var/www/html/wp-content
      # Exclude uploads from mount - use separate volume to avoid conflicts
      - wp2_uploads:/var/www/html/wp-content/uploads
    environment:
      - WP_CONTENT_DIR=/var/www/html/wp-content
      - WP_DEBUG=${WP_DEBUG:-1}


